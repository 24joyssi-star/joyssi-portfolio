<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>JOYSSI — Portfolio</title>
<style>
:root{ --blue:#090794 }
*{ box-sizing:border-box }
html{ scroll-behavior:smooth }
body{ margin:0; background:#fff; color:#000; font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,system-ui,sans-serif }

/* Header */
.header{ position:sticky; top:0; z-index:50; background:#fff; border-bottom:1px solid rgba(0,0,0,.08) }
.wrap{ max-width:1200px; margin:0 auto; padding:14px 20px; display:flex; align-items:center; gap:16px; flex-wrap:wrap }
.brand{ display:flex; align-items:center; gap:8px; font:900 13px/1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.04em; cursor:pointer; color:#000; text-decoration:none }
.dot{ width:6px; height:6px; border-radius:999px; background:var(--blue) }
nav{ margin-left:auto; display:flex; gap:12px; align-items:center; flex-wrap:wrap }
nav a{ color:#000; text-decoration:none; font-weight:800; opacity:.9; border:2px solid var(--blue); border-radius:14px; padding:10px 14px; white-space:nowrap; background:#fff }
nav a.on{ background:var(--blue); color:#fff }
.lang-top button{ background:transparent; border:0; font-weight:900; cursor:pointer; opacity:.65; padding:6px 8px }
.lang-top button.active{ opacity:1; text-decoration:underline }

@keyframes joyssiBlink{0%,40%{color:#000}50%,100%{color:var(--blue)}}
.blink{ animation:joyssiBlink 1s steps(1,end) infinite }
@media (prefers-reduced-motion:reduce){ .blink{ animation:none } }

/* Sections */
.section{ max-width:1200px; margin:0 auto; padding:56px 20px }
.label{ display:inline-block; font:900 14px/1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.02em; padding:6px 10px; border-radius:16px; border:2px solid var(--blue); background:#fff }
.rule{ height:1px; background:rgba(0,0,0,.08); margin:36px 0 }

/* Accueil */
.home-hero{ margin-top:8px }
.home-hero .big{ font:900 clamp(48px,14vw,140px)/0.9 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.04em; margin:0 0 10px }
.hero-about{ max-width:860px }
.btn{ display:inline-flex; align-items:center; gap:8px; padding:12px 18px; border-radius:16px; border:2px solid var(--blue); background:var(--blue); color:#fff; font:900 14px/1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; text-decoration:none; cursor:pointer }
.btn.ghost{ background:#fff; color:#000 }

/* PROJETS (page filtres) */
.helper{ font-weight:700; opacity:.75; margin-left:10px }
.filterBar{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; margin:12px 0 16px }
.filterBtn{ border:2px solid var(--blue); background:#fff; color:#000; padding:10px 14px; border-radius:14px; font-weight:900; cursor:pointer }

/* Panneau filtre */
.panel{ position:relative; display:inline-block }
.panelBox{
  position:absolute; left:0; top:calc(100% + 8px); min-width:280px; background:#fff; border:1px solid rgba(0,0,0,.12);
  border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.14); padding:12px; display:none; z-index:40
}
.panel.open .panelBox{ display:block }
.panel h5{ margin:6px 0 8px; font:900 12px/1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.01em }
.drop{ border:1px solid rgba(0,0,0,.12); border-radius:10px; overflow:hidden; margin-bottom:10px }
.drop summary{
  list-style:none; cursor:pointer; padding:10px 12px; font-weight:800; background:#fafafa; border-bottom:1px solid rgba(0,0,0,.06)
}
.drop summary::-webkit-details-marker{ display:none }
.drop .inner{ padding:10px 12px; display:grid; gap:8px }
.drop label{ display:flex; align-items:center; gap:8px; cursor:pointer; font-weight:700 }
.drop input[type="checkbox"], .drop input[type="radio"]{ width:16px; height:16px; cursor:pointer }

.panelActions{ display:flex; gap:8px; margin-top:8px }
.smallBtn{ border:2px solid var(--blue); background:#fff; color:#000; padding:8px 12px; border-radius:12px; font-weight:900; cursor:pointer }

/* Détail projet (miniatures) */
.detail{ margin-top:10px }
.detail h3{ margin:0 0 6px; font:900 26px/1.1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.01em }
.chips{ display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 }
.chip{ border:2px solid var(--blue); border-radius:999px; padding:4px 10px; font-weight:800; font-size:12px; cursor:pointer }
.credits{ margin:10px 0 16px; font-weight:700 }
.thumbs{ display:flex; flex-wrap:wrap; gap:10px }
.thumb{ width:160px; height:240px; object-fit:cover; background:#f2f2f2; border:1px solid rgba(0,0,0,.12); border-radius:10px; cursor:zoom-in }
@media(max-width:380px){ .thumb{ width:140px; height:210px } }

/* -------- PAGE TOUS LES PROJETS -------- */
.grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:14px; margin-top:14px }
@media(max-width:1000px){ .grid{ grid-template-columns:repeat(2,1fr) } }
@media(max-width:640px){ .grid{ grid-template-columns:1fr } }
.card{ border:1px solid rgba(0,0,0,.12); border-radius:14px; overflow:hidden; background:#fff; cursor:pointer }
.card .cover{ aspect-ratio:4/5; width:100%; object-fit:cover; display:block; background:#f2f2f2 }
.card .body{ padding:10px 12px }
.card .title{ margin:0 0 4px; font:900 16px/1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.01em }
.card .roles{ display:flex; flex-wrap:wrap; gap:6px }
.badge{ border:2px solid var(--blue); border-radius:999px; padding:2px 8px; font-weight:800; font-size:11px }

/* MODAL projet ("tous") */
.projectModal{ position:fixed; inset:0; background:rgba(0,0,0,.85); display:none; z-index:120; overflow:auto }
.pm-wrap{ max-width:1100px; margin:40px auto; background:#fff; color:#000; border-radius:16px; overflow:hidden }
.pm-head{ display:flex; justify-content:space-between; align-items:center; padding:16px 18px; border-bottom:1px solid rgba(0,0,0,.08) }
.pm-head h3{ margin:0; font:900 22px/1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.01em }
.pm-close{ background:#fff; border:2px solid var(--blue); border-radius:10px; padding:6px 10px; font-weight:900; cursor:pointer }
.pm-body{ display:grid; grid-template-columns:1fr 1fr; gap:18px; padding:18px }
@media(max-width:900px){ .pm-body{ grid-template-columns:1fr } }
.pm-info .chips{ margin:6px 0 }
.pm-thumbs{ display:flex; flex-wrap:wrap; gap:10px }
.pm-thumbs img{ width:160px; height:240px; object-fit:cover; border:1px solid rgba(0,0,0,.12); border-radius:10px; cursor:zoom-in }

/* Lightbox */
.lightbox{ position:fixed; inset:0; background:rgba(0,0,0,.9); display:none; align-items:center; justify-content:center; z-index:200 }
.lightbox img{ max-width:92vw; max-height:92vh; border-radius:12px }
.lightbox:focus{ outline:none }

/* Contact */
.links{ display:flex; gap:12px; flex-wrap:wrap }
.links button,.links a{ display:inline-flex; align-items:center; gap:10px; padding:12px 16px; border-radius:16px; border:2px solid var(--blue); color:#000; text-decoration:none; font-weight:800; background:#fff; cursor:pointer }
.links svg{ width:18px; height:18px }
.menu{ position:fixed; right:20px; bottom:90px; background:#fff; color:#000; border:1px solid rgba(0,0,0,.12); border-radius:12px; padding:10px; box-shadow:0 8px 30px rgba(0,0,0,.12); display:none; z-index:60 }
.menu a{ color:#000; text-decoration:none; font-weight:700; padding:6px 0; display:block }
.menu .copy{ margin-top:6px; border:2px solid var(--blue); border-radius:10px; padding:8px 10px; background:#fff; color:#000; font-weight:800; cursor:pointer }

/* -------- Splash (NOIR + JOYSSI bleu + langues) -------- */
.splash{ position:fixed; inset:0; background:#000; display:flex; align-items:center; justify-content:center; z-index:300 }
.s-inner{ text-align:center; max-width:900px; padding:24px }
.s-logo{ font:900 clamp(56px,18vw,180px)/0.85 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.04em; color:var(--blue); cursor:pointer; user-select:none }
.lang-chooser{ position:absolute; top:16px; right:16px; display:inline-flex; gap:10px; border:2px solid var(--blue); border-radius:16px; padding:8px 12px; background:#000; color:#fff; font-weight:900 }
.lang-chooser button{ background:transparent; border:0; font:inherit; cursor:pointer; color:#fff; opacity:.75 }
.lang-chooser button.active{ opacity:1; text-decoration:underline }
</style>
</head>
<body>

<!-- ========= SPLASH ========= -->
<div id="splash" class="splash" aria-label="Entrée du site">
  <div class="s-inner">
    <div class="lang-chooser" aria-label="Choisir la langue">
      <button id="s-fr" type="button">FR</button>
      <button id="s-en" type="button">EN</button>
      <button id="s-es" type="button">ES</button>
    </div>
    <div id="sJoy" class="s-logo" title="Entrer">JOYSSI</div>
  </div>
</div>

<!-- ========= SITE ========= -->
<header class="header" id="siteHeader" hidden>
  <div class="wrap">
    <a class="brand" href="#home" title="Accueil"><span class="blink">JOYSSI</span><span class="dot"></span></a>
    <nav id="topnav">
      <a href="#home">ACCUEIL</a>
      <a href="#projets-tous">PROJETS</a>
      <a href="#projets">FILTRER</a>
      <a href="#apropos">A PROPOS</a>
      <a href="#contact">CONTACT</a>
      <span style="width:1px;height:18px;background:rgba(0,0,0,.18)"></span>
      <span class="lang-top">
        <button id="frBtn" type="button" class="active">FR</button> |
        <button id="enBtn" type="button">EN</button> |
        <button id="esBtn" type="button">ES</button>
      </span>
    </nav>
  </div>
</header>

<!-- ACCUEIL -->
<section id="home" class="section" hidden>
  <div class="home-hero">
    <h1 class="big">JOYSSI</h1>
  </div>

  <span class="label" data-i="label.about">A PROPOS</span>
  <div class="hero-about" style="margin-top:12px">
    <p id="aboutTxtHome">
      Je suis Joyssi, directeur artistique, styliste et photographe.
      J’ai commencé en tant qu’assistant directeur artistique, styliste et photographe sur des
      projets dans la mode et la culture. Ces premières expériences m’ont permis de
      comprendre le processus créatif dans sa globalité et de me forger une vision précise,
      sensible et structurée.
      Aujourd’hui, je développe mes propres projets en tant que créatif indépendant. Je conçois
      des identités visuelles complètes pour des marques, des artistes ou des événements, en
      mobilisant la direction artistique, le stylisme et la photographie.
    </p>
    <p><a class="btn" href="#projets">Voir les projets</a></p>
  </div>
  <div class="rule"></div>
</section>

<!-- PROJETS (avec filtres/panneau) -->
<section id="projets" class="section" hidden>
  <span class="label">PROJETS — Filtres</span>

  <div class="filterBar">
    <div class="panel" id="filterPanel">
      <button class="filterBtn" type="button" id="openFilter">Filtrer</button>
      <div class="panelBox" id="panelBox" role="dialog" aria-label="Filtres">
        <!-- Par projet -->
        <details class="drop" id="dropByProject" open>
          <summary>Par projet</summary>
          <div class="inner" id="byProjectBox"></div>
        </details>
        <!-- Par rôle -->
        <details class="drop" id="dropByRole">
          <summary>Par rôle / poste</summary>
          <div class="inner">
            <label><input type="checkbox" value="stylist"> Stylisme</label>
            <label><input type="checkbox" value="art"> Direction artistique</label>
            <label><input type="checkbox" value="photographer"> Photographie</label>
            <label><input type="checkbox" value="assistant-photo"> Assistant photo</label>
            <label><input type="checkbox" value="assistant-ad"> Assistant DA</label>
            <label><input type="checkbox" value="graphic"> Design graphique</label>
          </div>
        </details>
        <div class="panelActions">
          <button class="smallBtn" type="button" id="applyFilters">Appliquer</button>
          <button class="smallBtn" type="button" id="resetFilters">Réinitialiser</button>
        </div>
      </div>
    </div>
    <span class="helper" id="countInfo">Aucun projet sélectionné</span>
  </div>

  <div class="detail" id="detail">
    <h3 id="dTitle">Sélectionne un projet</h3>
    <p id="dDesc" style="max-width:70ch; opacity:.9"></p>
    <div class="chips" id="dRoles"></div>
    <div class="credits" id="dCredits"></div>
    <div class="thumbs" id="dThumbs"></div>
  </div>

  <div class="rule"></div>
</section>

<!-- PAGE TOUS LES PROJETS -->
<section id="projets-tous" class="section" hidden>
  <span class="label">PROJETS</span>
  <h2 style="margin:10px 0 6px; font:900 28px/1 Impact,'Arial Black','Helvetica Neue',Arial,sans-serif; letter-spacing:-.02em">Tous les projets</h2>
  <p class="helper">Clique sur un projet pour voir les images et les infos.</p>

  <div id="allGrid" class="grid"></div>

  <div class="rule"></div>
  <p><a class="btn ghost" href="#projets">Filtrer les projets</a></p>
</section>

<!-- A PROPOS (long) -->
<section id="apropos" class="section" hidden>
  <span class="label">A PROPOS</span>
  <div class="hero-about">
    <h1>JOYSSI</h1>
    <div id="aboutTxtFull"></div>
  </div>
  <div class="rule"></div>
</section>

<!-- CONTACT -->
<section id="contact" class="section" hidden>
  <span class="label">CONTACT</span>
  <h3 style="margin:12px 0 12px">Contact</h3>
  <div class="links">
    <a href="https://www.instagram.com/joyssi.b/" target="_blank" rel="noreferrer" aria-label="Instagram">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="5"/><circle cx="12" cy="12" r="3.5"/><circle cx="17.5" cy="6.5" r="1"/></svg>
      Instagram
    </a>
    <button id="emailBtn" type="button" aria-label="Email">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="5" width="18" height="14" rx="2"/><path d="m3 7 9 6 9-6"/></svg>
      Email
    </button>
  </div>
  <div id="emailMenu" class="menu" role="dialog" aria-label="Choisir un service email">
    <div style="font-weight:800; margin-bottom:8px;">Ouvrir avec</div>
    <a href="mailto:24joyssi@gmail.com">Client installé (mailto)</a>
    <a href="https://mail.google.com/mail/?view=cm&to=24joyssi@gmail.com" target="_blank" rel="noreferrer">Gmail</a>
    <a href="https://outlook.live.com/mail/0/deeplink/compose?to=24joyssi@gmail.com" target="_blank" rel="noreferrer">Outlook Web</a>
    <a href="https://compose.mail.yahoo.com/?to=24joyssi@gmail.com" target="_blank" rel="noreferrer">Yahoo Mail</a>
    <button class="copy" id="copyMail" type="button">Copier l’adresse</button>
  </div>
  <div class="rule"></div>
</section>

<!-- MODAL "tous les projets" -->
<div id="projModal" class="projectModal" aria-modal="true" role="dialog" aria-label="Détail du projet">
  <div class="pm-wrap">
    <div class="pm-head">
      <h3 id="pmTitle">Projet</h3>
      <button class="pm-close" id="pmClose" type="button">Fermer</button>
    </div>
    <div class="pm-body">
      <div class="pm-info">
        <div class="chips" id="pmRoles"></div>
        <div class="credits" id="pmCredits"></div>
        <p id="pmDesc" style="max-width:65ch"></p>
      </div>
      <div class="pm-thumbs" id="pmThumbs"></div>
    </div>
  </div>
</div>

<!-- Lightbox -->
<div class="lightbox" id="lightbox" tabindex="-1" aria-modal="true" role="dialog">
  <img id="lightImg" alt="">
</div>

<script>
/* ========= PROJETS (4) ========= */
const PROJECTS = [
  /* 1) BLIND NO PLAN */
  {
    id: "blind",
    title: "BLIND NO PLAN",
    roles: ["stylist","photographer"],
    credits: {
      fr: "Crédits : Stylisme, Photographie",
      en: "Credits: Styling, Photography",
      es: "Créditos: Estilismo, Fotografía"
    },
    desc: {
      fr: "Stylisme & Photographie — univers brut, direction du shooting et looks en cohérence avec l’ADN de la marque.",
      en: "Styling & Photography — raw visual language, shoot direction and looks aligned with the brand DNA.",
      es: "Estilismo y fotografía — lenguaje visual crudo, dirección del rodaje y looks alineados con el ADN de la marca."
    },
    cover: "DSC02221.jpg",
    images: ["DSC02221.jpg","DSC02224.jpg","DSC02230.jpg","DSC02234.jpg","DSC02237.jpg","DSC03110.jpg"]
  },

  /* 2) MILHAN — FRACTURE */
  {
    id: "milhan",
    title: "Milhan — Fracture",
    roles: ["stylist","art"],
    credits: {
      fr: "Crédits : Styliste & Directeur artistique. Studio Mirage — avec Mélie Calamaro (@meliecalamaro) et Juliette Cordillot (@juliette_cdt). Modèle : Milhan (@milhvnhanma / @milhvn_bzd).",
      en: "Credits: Stylist & Art Director. Studio Mirage — with Mélie Calamaro and Juliette Cordillot. Model: Milhan.",
      es: "Créditos: Estilista y Director de arte. Studio Mirage — con Mélie Calamaro y Juliette Cordillot. Modelo: Milhan."
    },
    desc: {
      fr: "Un huis clos visuel : un homme face à lui-même, retiré dans un hangar désert. Matières brutes, lumière nerveuse — une tension entre contrôle et abandon.",
      en: "A visual inner room: a man confronting himself in an empty warehouse. Raw textures, nervous light — a tension between control and surrender.",
      es: "Un cuarto interior visual: un hombre frente a sí mismo en un almacén vacío. Texturas crudas, luz nerviosa — tensión entre control y abandono."
    },
    cover: "IMG_7399.jpeg",
    images: [
      "IMG_7399.jpeg","IMG_7398.jpeg","471E8261-C289-48A0-9667-19900EAB7D78.jpeg",
      "Facetune_02-06-2025-22-00-33.jpeg","Facetune_02-06-2025-21-55-56.jpeg",
      "Facetune_08-06-2025-20-16-43.jpeg","Facetune_08-06-2025-20-14-16.jpeg","Facetune_08-06-2025-19-48-19.jpeg"
    ]
  },

  /* 3) MEGA SUE */
  {
    id: "mega",
    title: "Mega Sue",
    roles: ["stylist","photographer"],
    credits: {
      fr: "Crédits : Photographie & Stylisme",
      en: "Credits: Photography & Styling",
      es: "Créditos: Fotografía y Estilismo"
    },
    desc: {
      fr: "Photographie & Stylisme pour la marque Mega Sue — esthétique colorée et expressive dans un cadre minimaliste.",
      en: "Photography & Styling for Mega Sue — colorful, expressive aesthetics within a minimal frame.",
      es: "Fotografía y Estilismo para Mega Sue — estética colorida y expresiva en un marco minimalista."
    },
    cover: "339666353_247672421014594_8397278685892781428_n.jpg",
    images: [
      "339666353_247672421014594_8397278685892781428_n.jpg",
      "340161934_246336221192578_2732525740245454873_n.jpg",
      "340344943_528187286144781_7924168324666929102_n.jpg",
      "340150327_149185328090165_7242448741521794319_n.jpg",
      "339670857_796988891299798_5135637208194398707_n.jpg",
      "340185756_2441590042677026_8394769900836223507_n.jpg"
    ]
  },

  /* 4) DRÔLE DE MONSIEUR */
  {
    id: "ddm",
    title: "Drôle de Monsieur",
    roles: ["assistant-ad","assistant-photo","graphic"],
    credits: {
      fr: "Crédits : Assistant directeur artistique, Assistant photographe, Design graphique",
      en: "Credits: Assistant Art Director, Assistant Photographer, Graphic Design",
      es: "Créditos: Asistente de dirección de arte, Asistente de fotografía, Diseño gráfico"
    },
    desc: {
      fr: "Assistant DA & assistant photo — préparation visuelle, retouches, design graphique et mise en page finale pour garantir la cohérence esthétique globale.",
      en: "Assistant art director & assistant photographer — visual prep, retouching, graphic design and final layout to ensure overall consistency.",
      es: "Asistente de dirección de arte y de fotografía — preparación visual, retoque, diseño gráfico y maquetación final para asegurar la coherencia."
    },
    cover: "464462279_18467418079001724_4296041362829498819_n.jpg",
    images: [
      "464462279_18467418079001724_4296041362829498819_n.jpg",
      "464272154_18467418088001724_3840538998036405615_n.jpg",
      "464157675_18467418052001724_4103426957022696783_n.jpg",
      "464167162_18467418043001724_5217675012693912393_n.jpg",
      "464055292_18467418031001724_89644642640605347_n.jpg"
    ]
  }
];

/* ========= Textes FR/EN/ES ========= */
const STR={
  fr:{menu:{home:"ACCUEIL",projects:"PROJETS",filter:"FILTRER",about:"A PROPOS",contact:"CONTACT"}, hero:{cta:"Voir les projets"},
      email:{open:"Ouvrir avec",copy:"Copier l’adresse"},
      aboutHome:`Je suis Joyssi, directeur artistique, styliste et photographe.
J’ai commencé en tant qu’assistant directeur artistique, styliste et photographe sur des
projets dans la mode et la culture. Ces premières expériences m’ont permis de
comprendre le processus créatif dans sa globalité et de me forger une vision précise,
sensible et structurée.
Aujourd’hui, je développe mes propres projets en tant que créatif indépendant. Je conçois
des identités visuelles complètes pour des marques, des artistes ou des événements, en
mobilisant la direction artistique, le stylisme et la photographie.`,
      aboutFull:`Je suis Joyssi, directeur artistique, styliste et photographe.
J’ai commencé en tant qu’assistant directeur artistique, styliste et photographe sur des
projets dans la mode et la culture. Ces premières expériences m’ont permis de
comprendre le processus créatif dans sa globalité et de me forger une vision précise,
sensible et structurée.
Aujourd’hui, je développe mes propres projets en tant que créatif indépendant. Je conçois
des identités visuelles complètes pour des marques, des artistes ou des événements, en
mobilisant la direction artistique, le stylisme et la photographie.

J’interviens aussi en tant que directeur artistique musical : je les accompagne dans le choix
des morceaux, du style musical, des producteurs, et dans la direction globale du son. En parallèle,
je développe tout l’univers visuel (visuels, storytelling, identité) afin d’aligner puissamment
esthétique musicale et image.

Je travaille également en design d’espace, principalement dans des contextes événementiels :
ambiance, scénographie, et transformation des lieux en extensions visuelles d’un univers.
Ma démarche est immersive et contemporaine : créer des univers cohérents, articuler fond et forme,
relier émotion et direction visuelle avec précision et intention.`},
  en:{menu:{home:"HOME",projects:"PROJECTS",filter:"FILTER",about:"ABOUT",contact:"CONTACT"}, hero:{cta:"See projects"},
      email:{open:"Open with",copy:"Copy address"},
      aboutHome:"I’m Joyssi — art director, stylist and photographer. I started as an assistant in fashion/culture and now develop full identities, styling and photography.",
      aboutFull:"I’m Joyssi — art director, stylist and photographer. I began as an assistant across fashion and culture. Today I build identities through art direction, styling and photography; I also work in music art direction and spatial design. My approach is immersive and precise."},
  es:{menu:{home:"INICIO",projects:"PROYECTOS",filter:"FILTRAR",about:"SOBRE MÍ",contact:"CONTACTO"}, hero:{cta:"Ver proyectos"},
      email:{open:"Abrir con",copy:"Copiar dirección"},
      aboutHome:"Soy Joyssi — director de arte, estilista y fotógrafo. Empecé como asistente y hoy desarrollo identidades visuales, estilismo y fotografía.",
      aboutFull:"Soy Joyssi — director de arte, estilista y fotógrafo. Inicié como asistente en moda/cultura. Hoy realizo dirección de arte, estilismo y fotografía; también dirección artística musical y diseño de espacios. Enfoque inmersivo y preciso."}
};

const rolesMap = { "stylist":"Stylisme", "art":"Direction artistique", "photographer":"Photographie",
  "assistant-photo":"Assistant photo", "assistant-ad":"Assistant DA", "graphic":"Design graphique" };

/* ========= Helpers ========= */
const q=(s)=>document.querySelector(s), qa=(s)=>document.querySelectorAll(s);
let lang=(localStorage.getItem("lang")||"fr").toLowerCase();

function applyI18n(){
  const t=STR[lang]; document.documentElement.lang=lang;
  const nav=q('#topnav').querySelectorAll('a');
  nav[0].textContent=t.menu.home;
  nav[1].textContent=t.menu.projects;
  nav[2].textContent=t.menu.filter;
  nav[3].textContent=t.menu.about;
  nav[4].textContent=t.menu.contact;
  q('#home .btn').textContent=t.hero.cta;
  q('#aboutTxtHome').textContent=t.aboutHome;
  q('#aboutTxtFull').innerHTML = t.aboutFull.split('\n\n').map(p=>`<p>${p.replace(/\n/g,' ').trim()}</p>`).join('');
  q('#emailMenu div').textContent=t.email.open;
  q('#copyMail').textContent=t.email.copy;

  // Lang UI
  q('#frBtn').classList.toggle('active',lang==='fr');
  q('#enBtn').classList.toggle('active',lang==='en');
  q('#esBtn').classList.toggle('active',lang==='es');
  q('#s-fr').classList.toggle('active',lang==='fr');
  q('#s-en').classList.toggle('active',lang==='en');
  q('#s-es').classList.toggle('active',lang==='es');
}

function setSrc(img,file){
  img.src="images/"+file;
  img.onerror=()=>{ img.style.opacity=.35; img.style.borderStyle='dashed'; img.title="Image introuvable : "+file; };
}

/* ========= Splash & nav ========= */
document.addEventListener('DOMContentLoaded', () => {
  applyI18n();

  // Lang splash
  q('#s-fr').onclick=()=>{ lang='fr'; localStorage.setItem('lang','fr'); applyI18n(); };
  q('#s-en').onclick=()=>{ lang='en'; localStorage.setItem('lang','en'); applyI18n(); };
  q('#s-es').onclick=()=>{ lang='es'; localStorage.setItem('lang','es'); applyI18n(); };

  // Entrer
  q('#sJoy').onclick=()=>{
    q('#splash').style.display='none';
    ['siteHeader','home','projets','projets-tous','apropos','contact'].forEach(id=>{ const el=q('#'+id); if(el) el.hidden=false; });
    location.hash='#home';
    window.scrollTo(0,0);
  };

  // Lang top
  q('#frBtn').onclick=()=>{ lang='fr'; localStorage.setItem('lang','fr'); applyI18n(); };
  q('#enBtn').onclick=()=>{ lang='en'; localStorage.setItem('lang','en'); applyI18n(); };
  q('#esBtn').onclick=()=>{ lang='es'; localStorage.setItem('lang','es'); applyI18n(); };

  // Email menu
  (function(){
    const btn=q('#emailBtn'), menu=q('#emailMenu'), addr='24joyssi@gmail.com';
    btn.addEventListener('click',()=>{ menu.style.display = (menu.style.display==='block'?'none':'block'); });
    document.addEventListener('click',e=>{ if(!menu.contains(e.target) && e.target!==btn) menu.style.display='none'; });
    q('#copyMail').addEventListener('click',async(ev)=>{ try{ await navigator.clipboard.writeText(addr); ev.target.textContent='Copié ✓'; setTimeout(()=>ev.target.textContent=STR[lang].email.copy,1200);}catch{ alert(addr); }});
  })();

  // Pages
  initFilterPanel();
  initProjectsFiltered();
  buildAllProjectsGrid();
  initProjectModal();

  window.addEventListener('hashchange', router);
  router();
});

function router(){
  const h=location.hash||'#home';
  ['home','projets','projets-tous','apropos','contact'].forEach(id=>q('#'+id).hidden=true);
  if(h==='#projets') q('#projets').hidden=false;
  else if(h==='#projets-tous') q('#projets-tous').hidden=false;
  else if(h==='#apropos') q('#apropos').hidden=false;
  else if(h==='#contact') q('#contact').hidden=false;
  else q('#home').hidden=false;

  // Nav active
  qa('#topnav a').forEach(a=>{
    a.classList.toggle('on', a.getAttribute('href')===h || (h==='#home' && a.getAttribute('href')==='#home'));
  });
}

/* ========= FILTRES ========= */
const rolesLabel = (r)=>rolesMap[r]||r;
let selectedByName = "";     // id (radio)
let activeTags = new Set();  // rôles (checkbox)
let current = null;

function initFilterPanel(){
  const panel = q('#filterPanel');
  const byProjectBox = q('#byProjectBox');

  // open/close
  q('#openFilter').onclick=()=> panel.classList.toggle('open');
  document.addEventListener('click',e=>{ if(!panel.contains(e.target)) panel.classList.remove('open'); });

  // radios projets
  byProjectBox.innerHTML='';
  PROJECTS.forEach(p=>{
    const id = 'by_'+p.id;
    const line = document.createElement('label');
    line.innerHTML = `<input type="radio" name="byProject" value="${p.id}" id="${id}"> ${p.title}`;
    byProjectBox.appendChild(line);
  });
  byProjectBox.addEventListener('change',(e)=>{
    if(e.target && e.target.name==='byProject'){ selectedByName = e.target.value; }
  });

  // checkboxes rôles
  q('#dropByRole .inner').addEventListener('change',(e)=>{
    if(e.target && e.target.type==='checkbox'){
      const v = e.target.value;
      if(e.target.checked) activeTags.add(v); else activeTags.delete(v);
    }
  });

  // actions
  q('#applyFilters').onclick=()=>{ panel.classList.remove('open'); applyFilters(); };
  q('#resetFilters').onclick=()=>{
    byProjectBox.querySelectorAll('input[type="radio"]').forEach(r=>r.checked=false);
    selectedByName="";
    activeTags.clear();
    q('#dropByRole .inner').querySelectorAll('input[type="checkbox"]').forEach(c=>c.checked=false);
    panel.classList.remove('open');
    applyFilters();
  };
}

function matchProject(p){
  if(selectedByName && p.id!==selectedByName) return false;
  for(const t of activeTags){ if(!p.roles.includes(t)) return false; }
  return true;
}

function applyFilters(){
  const matched = PROJECTS.filter(matchProject);
  const info = q('#countInfo');

  if(matched.length===0){
    info.textContent = "Aucun projet trouvé";
    current=null; renderFilteredEmpty();
    return;
  }
  if(matched.length===1){
    info.textContent = "1 projet";
    current = matched[0];
    renderFilteredDetail(current);
    return;
  }
  info.textContent = matched.length+" projets";
  renderFilteredChooser(matched);
}

function renderFilteredEmpty(){
  q('#dTitle').textContent='Sélectionne un projet';
  q('#dDesc').textContent=''; q('#dRoles').innerHTML=''; q('#dCredits').textContent=''; q('#dThumbs').innerHTML='';
}

function renderFilteredChooser(items){
  q('#dTitle').textContent = "Choisir un projet";
  q('#dDesc').textContent = "Affiner par nom ou cliquer ci-dessous :";
  q('#dRoles').innerHTML=''; q('#dCredits').textContent='';
  const box=q('#dThumbs'); box.innerHTML='';
  items.forEach(p=>{
    const b=document.createElement('button');
    b.className='btn ghost'; b.textContent=p.title;
    b.addEventListener('click',()=>{
      current=p;
      selectedByName=p.id;
      const r=document.querySelector(`#by_${p.id}`); if(r) r.checked=true;
      applyFilters();
    });
    box.appendChild(b);
  });
}

function renderFilteredDetail(p){
  q('#dTitle').textContent = p.title;
  q('#dDesc').textContent = p.desc[lang] || p.desc.fr || '';
  q('#dCredits').textContent = (p.credits && (p.credits[lang]||p.credits.fr)) || '';
  const rolesBox=q('#dRoles'); rolesBox.innerHTML='';
  p.roles.forEach(r=>{
    const s=document.createElement('span'); s.className='chip'; s.textContent=rolesLabel(r);
    s.title='Filtrer par '+rolesLabel(r);
    s.onclick=()=>{
      const cb = q(`#dropByRole input[type="checkbox"][value="${r}"]`);
      if(cb){ cb.checked = !cb.checked; cb.dispatchEvent(new Event('change',{bubbles:true})); }
      applyFilters();
    };
    rolesBox.appendChild(s);
  });
  const thumbs=q('#dThumbs'); thumbs.innerHTML='';
  (p.images||[]).forEach(f=>{
    const im=document.createElement('img'); im.className='thumb'; im.alt=p.title; setSrc(im,f);
    im.onclick=()=>openLightbox("images/"+f,p.title);
    thumbs.appendChild(im);
  });
}

function initProjectsFiltered(){ renderFilteredEmpty(); }

/* ========= PAGE “TOUS LES PROJETS” ========= */
function buildAllProjectsGrid(){
  const grid = q('#allGrid'); grid.innerHTML='';
  PROJECTS.forEach(p=>{
    const card=document.createElement('div'); card.className='card';
    card.innerHTML=`
      <img class="cover" alt="">
      <div class="body">
        <div class="title">${p.title}</div>
        <div class="roles">${p.roles.map(r=>`<span class="badge">${rolesLabel(r)}</span>`).join(' ')}</div>
      </div>`;
    const cover=card.querySelector('.cover'); setSrc(cover,p.cover);
    card.onclick=()=>openProjectModal(p);
    grid.appendChild(card);
  });
}

function openProjectModal(p){
  q('#pmTitle').textContent=p.title;
  const roles=q('#pmRoles'); roles.innerHTML='';
  p.roles.forEach(r=>{ const x=document.createElement('span'); x.className='chip'; x.textContent=rolesLabel(r); roles.appendChild(x); });
  q('#pmCredits').textContent=(p.credits && (p.credits[lang]||p.credits.fr)) || '';
  q('#pmDesc').textContent=p.desc[lang] || p.desc.fr || '';
  const box=q('#pmThumbs'); box.innerHTML='';
  (p.images||[]).forEach(f=>{
    const im=document.createElement('img'); im.alt=p.title; im.src=''; setSrc(im,f);
    im.onclick=()=>openLightbox("images/"+f,p.title);
    box.appendChild(im);
  });
  q('#projModal').style.display='block';
}

function initProjectModal(){
  q('#pmClose').onclick=()=>{ q('#projModal').style.display='none'; };
  q('#projModal').addEventListener('click',e=>{ if(e.target.id==='projModal') q('#projModal').style.display='none'; });
}

/* ========= Lightbox ========= */
function openLightbox(src,alt){ const box=q('#lightbox'), big=q('#lightImg'); big.src=src; big.alt=alt||''; box.style.display='flex'; box.focus(); }
q('#lightbox').addEventListener('click',()=>{ q('#lightbox').style.display='none'; q('#lightImg').src=''; });
document.addEventListener('keydown',e=>{ if(e.key==='Escape'){ if(q('#lightbox').style.display==='flex') q('#lightbox').click(); if(q('#projModal').style.display==='block') q('#pmClose').click(); }});
</script>
</body>
</html>
