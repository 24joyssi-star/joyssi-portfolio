<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>JOYSSI — Portfolio</title>
<style>
:root{ --blue:#090794 }
*{ box-sizing:border-box }
html{ scroll-behavior:smooth }
body{ margin:0; background:#fff; color:#000; font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,system-ui,sans-serif }

/* ---------- Layout global / nav façon dependant ---------- */
.main{ min-height:100vh; display:flex; flex-direction:column }
.footer-nav{
  position:sticky; bottom:0; z-index:30; background:#fff; border-top:1px solid rgba(0,0,0,.08);
}
.footer-wrap{ max-width:1200px; margin:0 auto; padding:10px 16px; display:flex; gap:14px; align-items:center; justify-content:space-between; flex-wrap:wrap }
.brand{
  display:flex; align-items:center; gap:8px;
  font:900 13px/1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.04em;
  color:#000; text-decoration:none; cursor:pointer;
}
.dot{ width:6px; height:6px; border-radius:999px; background:var(--blue) }
.nav{
  display:flex; gap:8px; align-items:center; flex-wrap:wrap;
}
.nav a{
  text-decoration:none; text-transform:lowercase;
  padding:10px 14px; border-radius:20px; border:2px solid var(--blue); background:#fff; color:#000;
  font:900 13px/1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif;
}
.nav a.active{ background:var(--blue); color:#fff }
.lang-top button{ background:transparent; border:0; font-weight:900; cursor:pointer; opacity:.65; padding:8px 6px }
.lang-top button.active{ opacity:1; text-decoration:underline }

/* ---------- Splash (entrée) ---------- */
.splash{ position:fixed; inset:0; background:#000; display:flex; align-items:center; justify-content:center; z-index:300 }
.s-inner{ text-align:center; max-width:900px; padding:24px }
.s-logo{ font:900 clamp(56px,18vw,180px)/0.85 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.04em; color:var(--blue); cursor:pointer; user-select:none }
.lang-chooser{ display:inline-flex; gap:10px; border:2px solid var(--blue); border-radius:16px; padding:8px 12px; background:#000; color:#fff; font-weight:900; margin-bottom:14px }
.lang-chooser button{ background:transparent; border:0; font:inherit; cursor:pointer; color:#fff; opacity:.7 }
.lang-chooser button.active{ opacity:1; text-decoration:underline }

/* ---------- Sections ---------- */
.section{ max-width:1200px; margin:0 auto; padding:24px 16px }
.rule{ height:1px; background:rgba(0,0,0,.08); margin:24px 0 }
.label{ display:inline-block; font:900 14px/1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.02em; padding:6px 10px; border-radius:16px; border:2px solid var(--blue); background:#fff }

/* ---------- Accueil : slider plein écran ---------- */
.hero{
  min-height: calc(100vh - 64px);
  display:grid; grid-template-rows:auto 1fr auto; gap:16px;
}
.slider{
  position:relative; width:100%; height:65vh; max-height:760px; background:#f2f2f2; border:1px solid rgba(0,0,0,.08); border-radius:14px; overflow:hidden;
}
.slide{ position:absolute; inset:0; opacity:0; transition:opacity .4s ease }
.slide.active{ opacity:1 }
.slide img{ width:100%; height:100%; object-fit:cover; display:block }
.slide .caption{
  position:absolute; left:16px; bottom:16px; background:#fff; color:#000; border:2px solid var(--blue); border-radius:12px; padding:8px 10px; font-weight:800;
}
.slider .arrow{
  position:absolute; top:50%; transform:translateY(-50%); background:#fff; border:2px solid var(--blue); border-radius:12px; padding:8px 10px; cursor:pointer; font-weight:900;
}
.slider .prev{ left:12px } .slider .next{ right:12px }
.slider .pager{
  position:absolute; right:12px; bottom:12px; background:#fff; border:2px solid var(--blue); border-radius:12px; padding:6px 10px; font-weight:900;
}
.hero-title{ font:900 clamp(48px,14vw,140px)/0.9 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.04em; margin:6px 0 }

/* ---------- Projets (grille + filtre local) ---------- */
.grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:14px }
@media(max-width:1000px){ .grid{ grid-template-columns:repeat(2,1fr) } }
@media(max-width:640px){ .grid{ grid-template-columns:1fr } }
.card{ border:1px solid rgba(0,0,0,.12); border-radius:14px; overflow:hidden; background:#fff; cursor:pointer }
.card .cover{ aspect-ratio:4/5; width:100%; object-fit:cover; display:block; background:#f2f2f2 }
.card .body{ padding:10px 12px }
.card .title{ margin:0 0 4px; font:900 16px/1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.01em }
.card .roles{ display:flex; flex-wrap:wrap; gap:6px }
.badge{ border:2px solid var(--blue); border-radius:999px; padding:2px 8px; font-weight:800; font-size:11px }

/* Filtre (seulement sur page Projets) */
.filterBar{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; margin:8px 0 16px }
.filterBtn{ border:2px solid var(--blue); background:#fff; color:#000; padding:10px 14px; border-radius:14px; font-weight:900; cursor:pointer }
.panel{ position:relative; display:inline-block }
.panelBox{
  position:absolute; left:0; top:calc(100% + 8px); min-width:280px; background:#fff; border:1px solid rgba(0,0,0,.12);
  border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.14); padding:12px; display:none; z-index:40
}
.panel.open .panelBox{ display:block }
.drop{ border:1px solid rgba(0,0,0,.12); border-radius:10px; overflow:hidden; margin-bottom:10px }
.drop summary{
  list-style:none; cursor:pointer; padding:10px 12px; font-weight:800; background:#fafafa; border-bottom:1px solid rgba(0,0,0,.06)
}
.drop summary::-webkit-details-marker{ display:none }
.drop .inner{ padding:10px 12px; display:grid; gap:8px }
.drop label{ display:flex; align-items:center; gap:8px; cursor:pointer; font-weight:700 }
.panelActions{ display:flex; gap:8px; margin-top:8px }
.smallBtn{ border:2px solid var(--blue); background:#fff; color:#000; padding:8px 12px; border-radius:12px; font-weight:900; cursor:pointer }
.helper{ font-weight:700; opacity:.75 }

/* Détail + thumbs */
.detail{ margin-top:10px }
.detail h3{ margin:0 0 6px; font:900 26px/1.1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.01em }
.chips{ display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 }
.chip{ border:2px solid var(--blue); border-radius:999px; padding:4px 10px; font-weight:800; font-size:12px; cursor:pointer }
.credits{ margin:10px 0 16px; font-weight:700 }
.thumbs{ display:flex; flex-wrap:wrap; gap:10px }
.thumb{ width:160px; height:240px; object-fit:cover; background:#f2f2f2; border:1px solid rgba(0,0,0,.12); border-radius:10px; cursor:zoom-in }
@media(max-width:380px){ .thumb{ width:140px; height:210px } }

/* Modal projet & Lightbox */
.projectModal{ position:fixed; inset:0; background:rgba(0,0,0,.85); display:none; z-index:120; overflow:auto }
.pm-wrap{ max-width:1100px; margin:40px auto; background:#fff; color:#000; border-radius:16px; overflow:hidden }
.pm-head{ display:flex; justify-content:space-between; align-items:center; padding:16px 18px; border-bottom:1px solid rgba(0,0,0,.08) }
.pm-head h3{ margin:0; font:900 22px/1 Impact,"Arial Black","Helvetica Neue",Arial,sans-serif; letter-spacing:-.01em }
.pm-close{ background:#fff; border:2px solid var(--blue); border-radius:10px; padding:6px 10px; font-weight:900; cursor:pointer }
.pm-body{ display:grid; grid-template-columns:1fr 1fr; gap:18px; padding:18px }
@media(max-width:900px){ .pm-body{ grid-template-columns:1fr } }
.pm-info .chips{ margin:6px 0 }
.pm-thumbs{ display:flex; flex-wrap:wrap; gap:10px }
.pm-thumbs img{ width:160px; height:240px; object-fit:cover; border:1px solid rgba(0,0,0,.12); border-radius:10px; cursor:zoom-in }

.lightbox{ position:fixed; inset:0; background:rgba(0,0,0,.9); display:none; align-items:center; justify-content:center; z-index:200 }
.lightbox img{ max-width:92vw; max-height:92vh; border-radius:12px }
.lightbox:focus{ outline:none }
</style>
</head>
<body>

<!-- ========= SPLASH ========= -->
<div id="splash" class="splash" aria-label="Entrée du site">
  <div class="s-inner">
    <div class="lang-chooser" aria-label="Choisir la langue">
      <button id="s-fr" type="button">FR</button>|<button id="s-en" type="button">EN</button>|<button id="s-es" type="button">ES</button>
    </div>
    <div id="sJoy" class="s-logo" title="Entrer">JOYSSI</div>
  </div>
</div>

<div id="site" class="main" hidden>
  <!-- ACCUEIL -->
  <section id="home" class="section">
    <h1 class="hero-title">JOYSSI</h1>
    <div class="hero">
      <div class="slider" id="slider">
        <!-- Slides injectées en JS à partir du projet “featured” -->
        <button class="arrow prev" id="prevBtn" aria-label="Précédent">←</button>
        <button class="arrow next" id="nextBtn" aria-label="Suivant">→</button>
        <div class="pager" id="pager">1/1</div>
      </div>
      <div></div>
      <div>
        <div class="label" data-i18n="menu.about">A PROPOS</div>
        <div class="rule" style="margin:12px 0"></div>
        <div id="aboutTxtHome" style="max-width:860px"></div>
        <p style="margin-top:12px"><a class="navBtn" href="#projets" style="text-decoration:none">
          <span class="nav a btn nav-proj btn-see btnSee btn" style="display:inline-flex;align-items:center;gap:8px;padding:12px 18px;border-radius:16px;border:2px solid var(--blue);background:#fff;color:#000;font:900 14px/1 Impact,'Arial Black','Helvetica Neue',Arial,sans-serif;">Voir les projets</span>
        </a></p>
      </div>
    </div>
    <div class="rule"></div>
  </section>

  <!-- PROJETS -->
  <section id="projets" class="section">
    <div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap">
      <span class="label" data-i18n="menu.projects">PROJETS</span>
      <div class="panel" id="filterPanel">
        <button class="filterBtn" type="button" id="openFilter">Filtrer</button>
        <div class="panelBox" id="panelBox" role="dialog" aria-label="Filtres">
          <details class="drop" id="dropByProject" open>
            <summary>Par projet</summary>
            <div class="inner" id="byProjectBox"></div>
          </details>
          <details class="drop" id="dropByRole">
            <summary>Par rôle / poste</summary>
            <div class="inner">
              <label><input type="checkbox" value="stylist"> Stylisme</label>
              <label><input type="checkbox" value="art"> Direction artistique</label>
              <label><input type="checkbox" value="photographer"> Photographie</label>
              <label><input type="checkbox" value="assistant-photo"> Assistant photo</label>
              <label><input type="checkbox" value="assistant-ad"> Assistant DA</label>
              <label><input type="checkbox" value="graphic"> Design graphique</label>
            </div>
          </details>
          <div class="panelActions">
            <button class="smallBtn" type="button" id="applyFilters">Appliquer</button>
            <button class="smallBtn" type="button" id="resetFilters">Réinitialiser</button>
          </div>
        </div>
      </div>
      <span class="helper" id="countInfo">Aucun projet sélectionné</span>
    </div>

    <div class="detail" id="detail">
      <h3 id="dTitle">Sélectionne un projet</h3>
      <p id="dDesc" style="max-width:70ch; opacity:.9"></p>
      <div class="chips" id="dRoles"></div>
      <div class="credits" id="dCredits"></div>
      <div class="thumbs" id="dThumbs"></div>
    </div>

    <div class="rule"></div>

    <h2 style="margin:0 0 8px; font:900 22px/1 Impact,'Arial Black','Helvetica Neue',Arial,sans-serif; letter-spacing:-.01em">Tous les projets</h2>
    <p class="helper">Clique sur un projet pour voir les images et les infos.</p>
    <div id="allGrid" class="grid"></div>
    <div class="rule"></div>
  </section>

  <!-- A PROPOS (onglet long) -->
  <section id="apropos" class="section">
    <span class="label" data-i18n="menu.about">A PROPOS</span>
    <div class="rule" style="margin:12px 0"></div>
    <div id="aboutTxtFull" style="max-width:860px"></div>
    <div class="rule"></div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="section">
    <span class="label" data-i18n="menu.contact">CONTACT</span>
    <div class="rule" style="margin:12px 0"></div>
    <div class="links" style="display:flex; gap:12px; flex-wrap:wrap">
      <a href="https://www.instagram.com/joyssi.b/" target="_blank" rel="noreferrer" aria-label="Instagram" class="nav a btn" style="display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:16px;border:2px solid var(--blue);color:#000;text-decoration:none;font-weight:800;background:#fff">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="5"/><circle cx="12" cy="12" r="3.5"/><circle cx="17.5" cy="6.5" r="1"/></svg>
        Instagram
      </a>
      <button id="emailBtn" type="button" aria-label="Email" class="nav a btn" style="display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:16px;border:2px solid var(--blue);color:#000;background:#fff;font-weight:800;cursor:pointer">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="5" width="18" height="14" rx="2"/><path d="m3 7 9 6 9-6"/></svg>
        Email
      </button>
    </div>
    <div id="emailMenu" class="menu" role="dialog" aria-label="Choisir un service email" style="position:fixed; right:20px; bottom:90px; background:#fff; color:#000; border:1px solid rgba(0,0,0,.12); border-radius:12px; padding:10px; box-shadow:0 8px 30px rgba(0,0,0,.12); display:none; z-index:60">
      <div style="font-weight:800; margin-bottom:8px;">Ouvrir avec</div>
      <a href="mailto:24joyssi@gmail.com">Client installé (mailto)</a>
      <a href="https://mail.google.com/mail/?view=cm&to=24joyssi@gmail.com" target="_blank" rel="noreferrer">Gmail</a>
      <a href="https://outlook.live.com/mail/0/deeplink/compose?to=24joyssi@gmail.com" target="_blank" rel="noreferrer">Outlook Web</a>
      <a href="https://compose.mail.yahoo.com/?to=24joyssi@gmail.com" target="_blank" rel="noreferrer">Yahoo Mail</a>
      <button class="copy" id="copyMail" type="button" style="margin-top:6px; border:2px solid var(--blue); border-radius:10px; padding:8px 10px; background:#fff; color:#000; font-weight:800; cursor:pointer">Copier l’adresse</button>
    </div>
    <div class="rule"></div>
  </section>

  <!-- NAV collée en bas (façon dependant) -->
  <footer class="footer-nav">
    <div class="footer-wrap">
      <a class="brand" href="#home" title="Accueil"><span class="blink">JOYSSI</span><span class="dot"></span></a>
      <div class="nav">
        <a href="#home" class="nav-link">accueil</a>
        <a href="#projets" class="nav-link">projets</a>
        <a href="#apropos" class="nav-link">à propos</a>
        <a href="#contact" class="nav-link">contact</a>
        <span style="width:1px;height:18px;background:rgba(0,0,0,.18)"></span>
        <span class="lang-top">
          <button id="frBtn" type="button" class="active">FR</button> |
          <button id="enBtn" type="button">EN</button> |
          <button id="esBtn" type="button">ES</button>
        </span>
      </div>
    </div>
  </footer>
</div>

<!-- MODAL projet -->
<div id="projModal" class="projectModal" aria-modal="true" role="dialog" aria-label="Détail du projet">
  <div class="pm-wrap">
    <div class="pm-head">
      <h3 id="pmTitle">Projet</h3>
      <button class="pm-close" id="pmClose" type="button">Fermer</button>
    </div>
    <div class="pm-body">
      <div class="pm-info">
        <div class="chips" id="pmRoles"></div>
        <div class="credits" id="pmCredits"></div>
        <p id="pmDesc" style="max-width:65ch"></p>
      </div>
      <div class="pm-thumbs" id="pmThumbs"></div>
    </div>
  </div>
</div>

<!-- Lightbox -->
<div class="lightbox" id="lightbox" tabindex="-1" aria-modal="true" role="dialog">
  <img id="lightImg" alt="">
</div>

<script>
/* ========= Données projets ========= */
const PROJECTS = [
  {
    id:"blind", title:"BLIND NO PLAN",
    roles:["stylist","photographer"],
    credits: { fr:"Crédits : Stylisme, Photographie", en:"Credits: Styling, Photography", es:"Créditos: Estilismo, Fotografía" },
    desc:{
      fr:"Stylisme & Photographie — univers visuel brut, aligné avec l’ADN de la marque. Direction du shooting & looks.",
      en:"Styling & Photography — raw visual language aligned with the brand DNA. Full shoot direction & looks.",
      es:"Estilismo y fotografía — lenguaje visual crudo alineado con el ADN de la marca. Dirección completa del rodaje y looks."
    },
    cover:"DSC02221.jpg",
    images:["DSC02221.jpg","DSC02224.jpg","DSC02230.jpg","DSC02234.jpg","DSC02237.jpg","DSC03110.jpg"]
  },
  {
    id:"mega", title:"Mega Sue",
    roles:["stylist","photographer"],
    credits:{ fr:"Crédits : Photographie & Stylisme", en:"Credits: Photography & Styling", es:"Créditos: Fotografía y Estilismo" },
    desc:{
      fr:"Photographie & Stylisme pour la marque Mega Sue. Esthétique colorée et expressive dans un cadre minimaliste.",
      en:"Photography & Styling for Mega Sue. Colorful and expressive aesthetics in a minimalist frame.",
      es:"Fotografía y Estilismo para Mega Sue. Estética colorida y expresiva en un marco minimalista."
    },
    cover:"339666353_247672421014594_8397278685892781428_n.jpg",
    images:[
      "339666353_247672421014594_8397278685892781428_n.jpg",
      "340161934_246336221192578_2732525740245454873_n.jpg",
      "340344943_528187286144781_7924168324666929102_n.jpg",
      "340150327_149185328090165_7242448741521794319_n.jpg",
      "339670857_796988891299798_5135637208194398707_n.jpg",
      "340185756_2441590042677026_8394769900836223507_n.jpg"
    ]
  },
  {
    id:"ddm", title:"Drôle de Monsieur",
    roles:["assistant-ad","assistant-photo","graphic"],
    credits:{
      fr:"Crédits : Assistant directeur artistique, Assistant photographe, Design graphique",
      en:"Credits: Assistant Art Director, Assistant Photographer, Graphic Design",
      es:"Créditos: Asistente de dirección de arte, Asistente de fotografía, Diseño gráfico"
    },
    desc:{
      fr:"Assistant directeur artistique & assistant photographe. Préparation visuelle, retouches, design graphique et mise en page finale — pour garantir la cohérence esthétique globale.",
      en:"Assistant art director & assistant photographer. Visual prep, retouching, graphic design and final layout — ensuring overall aesthetic consistency.",
      es:"Asistente de dirección de arte y de fotografía. Preparación visual, retoque, diseño gráfico y maquetación final — para asegurar la coherencia estética global."
    },
    cover:"464462279_18467418079001724_4296041362829498819_n.jpg",
    images:[
      "464462279_18467418079001724_4296041362829498819_n.jpg",
      "464272154_18467418088001724_3840538998036405615_n.jpg",
      "464157675_18467418052001724_4103426957022696783_n.jpg",
      "464167162_18467418043001724_5217675012693912393_n.jpg",
      "464055292_18467418031001724_89644642640605347_n.jpg"
    ]
  },
  {
    id:"milhan", title:"Milhan — « Fracture »",
    roles:["stylist","art"],
    credits:{ fr:"Crédits : Styliste & Directeur artistique", en:"Credits: Stylist & Art Director", es:"Créditos: Estilista y Director de arte" },
    desc:{
      fr:`Shooting pour Milhan (Studio Mirage). Avec Mélie Calamaro & Juliette Cordillot.
Un homme face à lui-même, isolé dans un hangar suspendu — une introspection entre tension, silence et éclats de lumière.`,
      en:"Shoot for Milhan (Studio Mirage). A solitary introspection in a suspended warehouse — tension, silence and light bursts.",
      es:"Sesión para Milhan (Studio Mirage). Una introspección solitaria en un almacén suspendido: tensión, silencio y destellos de luz."
    },
    cover:"IMG_7399.jpeg",
    images:[
      "IMG_7399.jpeg",
      "IMG_7398.jpeg",
      "471E8261-C289-48A0-9667-19900EAB7D78.jpeg",
      "Facetune_02-06-2025-21-55-56.jpeg",
      "Facetune_02-06-2025-22-00-33.jpeg",
      "Facetune_02-06-2025-22-01-53.jpeg",
      "Facetune_08-06-2025-19-48-19.jpeg",
      "Facetune_08-06-2025-20-14-16.jpeg",
      "Facetune_08-06-2025-20-16-43.jpeg"
    ]
  }
];

/* ========= i18n ========= */
const STR={
  fr:{menu:{home:"accueil",projects:"projets",about:"à propos",contact:"contact"},
      hero:{cta:"Voir les projets"},
      email:{open:"Ouvrir avec",copy:"Copier l’adresse"},
      aboutHome:`Je suis Joyssi, directeur artistique, styliste et photographe.
J’ai commencé en tant qu’assistant directeur artistique, styliste et photographe sur des
projets dans la mode et la culture. Ces premières expériences m’ont permis de
comprendre le processus créatif dans sa globalité et de me forger une vision précise,
sensible et structurée.
Aujourd’hui, je développe mes propres projets en tant que créatif indépendant. Je conçois
des identités visuelles complètes pour des marques, des artistes ou des événements, en
mobilisant la direction artistique, le stylisme et la photographie.`,
      aboutFull:`Je suis Joyssi, directeur artistique, styliste et photographe.
J’ai commencé en tant qu’assistant directeur artistique, styliste et photographe sur des
projets dans la mode et la culture. Ces premières expériences m’ont permis de
comprendre le processus créatif dans sa globalité et de me forger une vision précise,
sensible et structurée.
Aujourd’hui, je développe mes propres projets en tant que créatif indépendant. Je conçois
des identités visuelles complètes pour des marques, des artistes ou des événements, en
mobilisant la direction artistique, le stylisme et la photographie.

J’interviens aussi en tant que directeur artistique musical : je les accompagne dans le choix
de leurs morceaux, de leur style musical, de leurs producteurs, et dans la direction globale
de leur son. En parallèle, je développe tout l’univers visuel (visuels, storytelling, identité),
pour que l’esthétique musicale et l’image soient parfaitement alignées et puissantes.

À côté de ça, j’interviens aussi en design d’espace, principalement dans des contextes
événementiels. Je réfléchis à l’ambiance, à la scénographie, à la façon dont un lieu devient
une extension visuelle de l’univers artistique ou de la marque.
Ma démarche est immersive et contemporaine. Elle consiste à créer des univers cohérents, à
articuler le fond et la forme, à relier émotion et direction visuelle avec précision et
intention.`},
  en:{menu:{home:"home",projects:"projects",about:"about",contact:"contact"},
      hero:{cta:"View projects"},
      email:{open:"Open with",copy:"Copy address"},
      aboutHome:"I’m Joyssi — creative director, stylist and photographer. I started as an assistant in fashion & culture, which gave me a full vision of the process. Today I develop independent projects across art direction, styling and photography.",
      aboutFull:"I’m Joyssi — creative director, stylist and photographer. I build full visual identities for brands, artists and events. I also act as a music art director and design event spaces. My approach is immersive and contemporary, aligning emotion and visual direction with precision and intent."},
  es:{menu:{home:"inicio",projects:"proyectos",about:"sobre mí",contact:"contacto"},
      hero:{cta:"Ver proyectos"},
      email:{open:"Abrir con",copy:"Copiar dirección"},
      aboutHome:"Soy Joyssi — director de arte, estilista y fotógrafo. Empecé como asistente en moda/cultura y hoy desarrollo identidades visuales, estilismo y fotografía.",
      aboutFull:"Soy Joyssi — director de arte, estilista y fotógrafo. Hoy llevo proyectos independientes (dirección de arte, estilismo y fotografía), también dirección artística musical y diseño de espacios. Enfoque inmersivo y contemporáneo."}
};

let lang=(localStorage.getItem("lang")||"fr").toLowerCase();
const q=(s)=>document.querySelector(s), qa=(s)=>document.querySelectorAll(s);

/* ========= Utils ========= */
function setSrc(img,file){
  img.src="images/"+file;
  img.onerror=()=>{ img.style.opacity=.35; img.style.borderStyle='dashed'; img.title="Image introuvable : "+file; };
}

/* ========= App ========= */
document.addEventListener('DOMContentLoaded', () => {
  // Splash lang
  q('#s-fr').addEventListener('click',()=>setLang('fr'));
  q('#s-en').addEventListener('click',()=>setLang('en'));
  q('#s-es').addEventListener('click',()=>setLang('es'));

  // Enter site
  q('#sJoy').addEventListener('click',()=>{
    q('#splash').style.display='none';
    q('#site').hidden=false;
    window.location.hash='#home';
    applyLang();
    buildHomeSlider();
    buildAllProjectsGrid();
    initFilterPanel();
    initProjectModal();
    bindEmailMenu();
    highlightNav('#home');
  });

  // Bottom nav lang
  q('#frBtn').addEventListener('click',()=>setLang('fr'));
  q('#enBtn').addEventListener('click',()=>setLang('en'));
  q('#esBtn').addEventListener('click',()=>setLang('es'));

  window.addEventListener('hashchange',()=>highlightNav(location.hash||'#home'));
});

function setLang(l){ lang=l; localStorage.setItem('lang',l); applyLang(); }
function applyLang(){
  document.documentElement.lang=lang;
  const t=STR[lang];
  // footer labels
  const map={'#home':'home','#projets':'projects','#apropos':'about','#contact':'contact'};
  qa('.nav-link').forEach(a=>{
    const href=a.getAttribute('href'); const key=map[href];
    if(key) a.textContent=t.menu[key];
  });
  // home texts
  const btn=q('#home .navBtn span'); if(btn) btn.textContent=t.hero.cta;
  q('#aboutTxtHome').innerHTML = `<p>${t.aboutHome.replace(/\n/g,' ').trim()}</p>`;
  // about full
  q('#aboutTxtFull').innerHTML = t.aboutFull.split('\n\n').map(p=>`<p>${p.replace(/\n/g,' ').trim()}</p>`).join('');
}

function highlightNav(hash){
  qa('.nav a').forEach(el=>el.classList.remove('active'));
  const link=q(`.nav a[href="${hash}"]`); if(link) link.classList.add('active');
}

/* ---------- Slider (accueil) ---------- */
function buildHomeSlider(){
  const featured = PROJECTS[0]; // mets le projet à mettre en avant ici (actuellement BLIND)
  const box=q('#slider'); box.querySelectorAll('.slide').forEach(s=>s.remove());

  const files = [featured.cover, ...featured.images].filter((v,i,a)=>a.indexOf(v)===i); // unique
  files.forEach((f,i)=>{
    const s=document.createElement('div'); s.className='slide'+(i===0?' active':'');
    s.innerHTML = `<img alt="${featured.title}"> <div class="caption">${featured.title}</div>`;
    const im=s.querySelector('img'); setSrc(im,f);
    box.appendChild(s);
  });

  let idx=0, total=files.length, slides=box.querySelectorAll('.slide');
  const pager=q('#pager'); const prev=q('#prevBtn'); const next=q('#nextBtn');
  function show(i){ slides[idx].classList.remove('active'); idx=(i+total)%total; slides[idx].classList.add('active'); pager.textContent=`${idx+1}/${total}`; }
  prev.onclick=()=>show(idx-1); next.onclick=()=>show(idx+1);
  pager.textContent=`1/${total}`;
}

/* ---------- Projets : filtre + détail ---------- */
const rolesMap = { "stylist":"Stylisme", "art":"Direction artistique", "photographer":"Photographie",
  "assistant-photo":"Assistant photo", "assistant-ad":"Assistant DA", "graphic":"Design graphique" };

let selectedByName = "";
let activeTags = new Set();
let current = null;

function roleLabel(tag){ return rolesMap[tag] || tag; }

function initFilterPanel(){
  const panel = q('#filterPanel');
  const byProjectBox = q('#byProjectBox');

  // open/close
  q('#openFilter').addEventListener('click',()=> panel.classList.toggle('open'));
  document.addEventListener('click',e=>{ if(!panel.contains(e.target)) panel.classList.remove('open'); });

  // radios projets
  PROJECTS.forEach(p=>{
    const id='by_'+p.id;
    const line=document.createElement('label');
    line.innerHTML=`<input type="radio" name="byProject" value="${p.id}" id="${id}"> ${p.title}`;
    byProjectBox.appendChild(line);
  });
  byProjectBox.addEventListener('change',(e)=>{
    if(e.target && e.target.name==='byProject'){ selectedByName=e.target.value; }
  });

  // roles
  q('#dropByRole .inner').addEventListener('change',(e)=>{
    if(e.target && e.target.type==='checkbox'){
      const v=e.target.value;
      if(e.target.checked) activeTags.add(v); else activeTags.delete(v);
    }
  });

  q('#applyFilters').addEventListener('click',()=>{ panel.classList.remove('open'); applyFilters(); });
  q('#resetFilters').addEventListener('click',()=>{
    byProjectBox.querySelectorAll('input[type="radio"]').forEach(r=>r.checked=false);
    selectedByName=""; activeTags.clear();
    q('#dropByRole .inner').querySelectorAll('input[type="checkbox"]').forEach(c=>c.checked=false);
    panel.classList.remove('open'); applyFilters();
  });

  // default state
  renderFilteredEmpty();
  buildAllProjectsGrid();
}

function matchProject(p){
  if(selectedByName && p.id!==selectedByName) return false;
  for(const t of activeTags){ if(!p.roles.includes(t)) return false; }
  return true;
}

function applyFilters(){
  const matched = PROJECTS.filter(matchProject);
  const info = q('#countInfo');

  if(matched.length===0){
    info.textContent="Aucun projet trouvé";
    current=null; renderFilteredEmpty();
    return;
  }
  if(matched.length===1){
    info.textContent="1 projet";
    current=matched[0]; renderFilteredDetail(current);
    return;
  }
  info.textContent = matched.length+" projets";
  renderFilteredChooser(matched);
}

function renderFilteredEmpty(){
  q('#dTitle').textContent='Sélectionne un projet';
  q('#dDesc').textContent=''; q('#dRoles').innerHTML=''; q('#dCredits').textContent=''; q('#dThumbs').innerHTML='';
}

function renderFilteredChooser(items){
  q('#dTitle').textContent="Choisir un projet";
  q('#dDesc').textContent="Affiner par nom ou cliquer ci-dessous :";
  q('#dRoles').innerHTML=''; q('#dCredits').textContent='';
  const box=q('#dThumbs'); box.innerHTML='';
  items.forEach(p=>{
    const b=document.createElement('a');
    b.href="#"; b.className='nav a btn'; b.style="display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:14px;border:2px solid var(--blue);background:#fff;color:#000;font-weight:900;text-decoration:none";
    b.textContent=p.title;
    b.addEventListener('click',(ev)=>{ ev.preventDefault(); current=p; selectedByName=p.id; const r=document.querySelector(`#by_${p.id}`); if(r) r.checked=true; applyFilters(); });
    box.appendChild(b);
  });
}

function renderFilteredDetail(p){
  q('#dTitle').textContent=p.title;
  q('#dDesc').textContent=p.desc[lang] || p.desc.fr || '';
  q('#dCredits').textContent=(p.credits && (p.credits[lang]||p.credits.fr)) || '';
  const rolesBox=q('#dRoles'); rolesBox.innerHTML='';
  p.roles.forEach(r=>{
    const s=document.createElement('span'); s.className='chip'; s.textContent=roleLabel(r);
    s.title='Filtrer par '+roleLabel(r);
    s.addEventListener('click',()=>{
      const cb=q(`#dropByRole input[value="${r}"]`);
      if(cb){ cb.checked=!cb.checked; cb.dispatchEvent(new Event('change',{bubbles:true})); }
      applyFilters();
    });
    rolesBox.appendChild(s);
  });
  const thumbs=q('#dThumbs'); thumbs.innerHTML='';
  (p.images||[]).forEach(f=>{
    const im=document.createElement('img'); im.className='thumb'; im.alt=p.title; setSrc(im,f);
    im.addEventListener('click',()=>openLightbox("images/"+f,p.title));
    thumbs.appendChild(im);
  });
}

/* ---------- Tous les projets (grille + modal) ---------- */
function buildAllProjectsGrid(){
  const grid=q('#allGrid'); if(!grid) return; grid.innerHTML='';
  PROJECTS.forEach(p=>{
    const card=document.createElement('div'); card.className='card';
    card.innerHTML=`<img class="cover" alt=""><div class="body"><div class="title">${p.title}</div><div class="roles">${p.roles.map(r=>`<span class="badge">${roleLabel(r)}</span>`).join(' ')}</div></div>`;
    const cover=card.querySelector('.cover'); setSrc(cover,p.cover);
    card.addEventListener('click',()=>openProjectModal(p));
    grid.appendChild(card);
  });
}

function openProjectModal(p){
  q('#pmTitle').textContent=p.title;
  const roles=q('#pmRoles'); roles.innerHTML=''; p.roles.forEach(r=>{ const x=document.createElement('span'); x.className='chip'; x.textContent=roleLabel(r); roles.appendChild(x); });
  q('#pmCredits').textContent=(p.credits && (p.credits[lang]||p.credits.fr)) || '';
  q('#pmDesc').textContent=p.desc[lang] || p.desc.fr || '';
  const box=q('#pmThumbs'); box.innerHTML='';
  (p.images||[]).forEach(f=>{
    const im=document.createElement('img'); im.alt=p.title; setSrc(im,f);
    im.addEventListener('click',()=>openLightbox("images/"+f,p.title));
    box.appendChild(im);
  });
  q('#projModal').style.display='block';
}

function initProjectModal(){
  q('#pmClose').addEventListener('click',()=>{ q('#projModal').style.display='none'; });
  q('#projModal').addEventListener('click',e=>{ if(e.target.id==='projModal') q('#projModal').style.display='none'; });
}

/* ---------- Lightbox ---------- */
function openLightbox(src,alt){ const box=q('#lightbox'), big=q('#lightImg'); big.src=src; big.alt=alt||''; box.style.display='flex'; box.focus(); }
q('#lightbox').addEventListener('click',()=>{ q('#lightbox').style.display='none'; q('#lightImg').src=''; });
document.addEventListener('keydown',e=>{ if(e.key==='Escape'){ if(q('#lightbox').style.display==='flex') q('#lightbox').click(); if(q('#projModal').style.display==='block') q('#pmClose').click(); }});

/* ---------- Email menu ---------- */
function bindEmailMenu(){
  const btn=q('#emailBtn'), menu=q('#emailMenu'), addr='24joyssi@gmail.com';
  btn.addEventListener('click',()=>{ menu.style.display=(menu.style.display==='block'?'none':'block'); });
  document.addEventListener('click',e=>{ if(!menu.contains(e.target) && e.target!==btn) menu.style.display='none'; });
  q('#copyMail').addEventListener('click',async(ev)=>{ try{ await navigator.clipboard.writeText(addr); ev.target.textContent='Copié ✓'; setTimeout(()=>{ev.target.textContent=STR[lang].email.copy;},1200);}catch{ alert(addr); }});
}
</script>
</body>
</html>
